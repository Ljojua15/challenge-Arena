<header *ngIf="!isLoggedIn()" class="bg-primary text-white sticky top-0 z-50">
  <div class="w-full px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      <!-- Logo -->
      <div class="flex items-center cursor-pointer" routerLink="/">
        <span class="font-['Pacifico'] text-2xl text-secondary">Challenge Arena</span>
      </div>
      <!-- Desktop Navigation -->
      <nav class="hidden md:flex items-center space-x-8">
        <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="text-white hover:text-secondary transition-colors">Home</a>
        <a routerLink="/pricing" routerLinkActive="active" data-readdy="true" class="text-white hover:text-secondary transition-colors">Pricing</a>
        <a routerLink="/support" routerLinkActive="active" data-readdy="true" class="text-white hover:text-secondary transition-colors">Support</a>
        <a routerLink="/about" routerLinkActive="active" data-readdy="true" class="text-white hover:text-secondary transition-colors">About</a>
        <a routerLink="/login" data-readdy="true" class="bg-secondary text-white px-4 py-2 !rounded-button hover:bg-opacity-90 transition-colors whitespace-nowrap">Login</a>
        <button routerLink="/company" class="border border-secondary text-secondary px-4 py-2 !rounded-button hover:bg-secondary hover:text-white transition-colors whitespace-nowrap">Company Portal</button>
      </nav>
      <!--修改前-->
      <!-- Mobile Menu Button -->
      <button id="mobile-menu-btn" class="md:hidden w-6 h-6 flex items-center justify-center">
        <i class="ri-menu-line text-xl"></i>
      </button>
    </div>
  </div>
  <!-- Mobile Menu -->
  <div id="mobile-menu" class="mobile-menu fixed top-16 left-0 w-full h-screen bg-primary z-40 md:hidden">
    <nav class="hidden md:flex items-center space-x-8">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="text-white hover:text-secondary transition-colors">Home</a>
      <a routerLink="/pricing" routerLinkActive="active" data-readdy="true" class="text-white hover:text-secondary transition-colors">Pricing</a>
      <a routerLink="/support" routerLinkActive="active" data-readdy="true" class="text-white hover:text-secondary transition-colors">Support</a>
      <a routerLink="/about" routerLinkActive="active" data-readdy="true" class="text-white hover:text-secondary transition-colors">About</a>
      <a routerLink="/login" data-readdy="true" class="bg-secondary text-white px-4 py-2 !rounded-button hover:bg-opacity-90 transition-colors whitespace-nowrap">Login</a>
      <button routerLink="/company" class="border border-secondary text-secondary px-4 py-2 !rounded-button hover:bg-secondary hover:text-white transition-colors whitespace-nowrap">Company Portal</button>
    </nav>
  </div>
</header>

<header *ngIf="isLoggedIn()" class="bg-primary text-white sticky top-0 z-50">
  <div class="w-full px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      <div class="flex items-center cursor-pointer" routerLink="/">
        <span class="font-['Pacifico'] text-2xl text-secondary">Challenge Arena</span>
      </div>
      <nav class="hidden md:flex items-center space-x-8">
        <a routerLink="/dashboard" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" data-readdy="true" class="text-white hover:text-secondary transition-colors">Dashboard</a>
        <a routerLink="/dashboard/quiz" routerLinkActive="active" data-readdy="true" class="text-white hover:text-secondary transition-colors">Quiz</a>
        <a routerLink="/dashboard/challenge1" routerLinkActive="active" data-readdy="true" class="text-white hover:text-secondary transition-colors">Check In</a>
        <a routerLink="/dashboard/challenge2" routerLinkActive="active" data-readdy="true" class="text-white hover:text-secondary transition-colors">Level up</a>
        <a routerLink="/dashboard/challenge3" routerLinkActive="active" data-readdy="true" class="text-white hover:text-secondary transition-colors">Festival</a>
        <a routerLink="/dashboard/leaderboard" routerLinkActive="active" data-readdy="true" class="text-white hover:text-secondary transition-colors">Leaderboard</a>
        <a routerLink="/dashboard/rewards" routerLinkActive="active" data-readdy="true" class="text-white hover:text-secondary transition-colors">Rewards</a>
        <div class="flex items-center space-x-4 ml-8">
          <div class="flex items-center bg-gray-700 rounded-lg px-3 py-2">
            <div class="coin-float">
              <i class="ri-coin-line w-5 h-5 flex items-center justify-center text-yellow-400 mr-2"></i>
            </div>
            <span class="text-white font-semibold">2,450</span>
          </div>
          <div (click)="displayModal.set(true)" class="cursor-pointer w-10 h-10 rounded-full bg-gradient-to-br from-secondary to-blue-400 flex items-center justify-center text-white font-bold">
            L
          </div>
        </div>
      </nav>
      <button class="md:hidden w-6 h-6 flex items-center justify-center">
        <i class="ri-menu-line text-xl"></i>
      </button>
    </div>
  </div>
  <div class="mobile-menu fixed top-16 left-0 w-full h-screen bg-primary z-40 md:hidden">
    <nav class="flex flex-col p-6 space-y-4">
      <a href="#" class="text-secondary font-semibold py-2">Dashboard</a>
      <a href="#" class="text-white hover:text-secondary transition-colors py-2">Templates</a>
      <a href="#" data-readdy="true" class="text-white hover:text-secondary transition-colors py-2">Leaderboard</a>
      <a href="#" data-readdy="true" class="text-white hover:text-secondary transition-colors py-2">Rewards</a>
    </nav>
  </div>
</header>




<div *ngIf="displayModal()" class="fixed inset-0 bg-black bg-opacity-50 z-50">
  <div class="flex items-center justify-center min-h-screen p-4">
    <div class="bg-white rounded-2xl max-w-4xl w-full max-h-screen overflow-y-auto">
      <div class="p-6">
        <div class="flex items-center justify-between mb-6">
          <h2 class="text-2xl font-bold text-primary">Profile</h2>
          <button (click)="displayModal.set(false)" class="w-8 h-8 flex items-center justify-center text-gray-500 hover:text-gray-700">
            <i class="ri-close-line text-xl"></i>
          </button>
        </div>
        <!-- Profile Tabs -->
        <div class="flex space-x-1 bg-gray-100 rounded-lg p-1 mb-6">
          <button class="tab-button px-4 py-2 rounded-md font-semibold text-sm transition-all tab-active" data-tab="overview" (click)="selectedTab.set(0)">Overview</button>
          <button class="tab-button px-4 py-2 rounded-md font-semibold text-sm transition-all text-gray-600 hover:text-primary" (click)="selectedTab.set(1)" data-tab="current">Current</button>
          <button class="tab-button px-4 py-2 rounded-md font-semibold text-sm transition-all text-gray-600 hover:text-primary" (click)="selectedTab.set(2)" data-tab="completed">Completed</button>
          <button class="tab-button px-4 py-2 rounded-md font-semibold text-sm transition-all text-gray-600 hover:text-primary" (click)="selectedTab.set(3)" data-tab="achievements">Achievements</button>
          <button class="tab-button px-4 py-2 rounded-md font-semibold text-sm transition-all text-gray-600 hover:text-primary" (click)="selectedTab.set(4)" data-tab="settings">Settings</button>
        </div>
        <!-- Tab Content -->
        <div  class="tab-content" *ngIf="selectedTab() === 0">
          <div class="grid lg:grid-cols-3 gap-6">
            <div class="lg:col-span-1">
              <div class="text-center mb-6">
                <div class="w-24 h-24 rounded-full bg-gradient-to-br from-secondary to-blue-400 flex items-center justify-center text-white font-bold text-3xl mx-auto mb-4">
                  L
                </div>
                <h3 class="text-xl font-bold text-primary">Lasha Kiknadze</h3>
                <p class="text-gray-600">Product Manager</p>
                <p class="text-sm text-gray-500">Engineering Department</p>
              </div>
              <div class="space-y-4">
                <div class="flex items-center justify-between">
                  <span class="text-gray-600">Total Coins</span>
                  <span class="font-bold text-secondary">2,450</span>
                </div>
                <div class="flex items-center justify-between">
                  <span class="text-gray-600">Challenges Joined</span>
                  <span class="font-bold text-primary">28</span>
                </div>
                <div class="flex items-center justify-between">
                  <span class="text-gray-600">Success Rate</span>
                  <span class="font-bold text-green-600">87%</span>
                </div>
                <div class="flex items-center justify-between">
                  <span class="text-gray-600">Company Rank</span>
                  <span class="font-bold text-orange-500">#12</span>
                </div>
              </div>
            </div>
            <div class="lg:col-span-2">
              <div class="grid sm:grid-cols-2 gap-6">
                <div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6">
                  <h4 class="font-bold text-primary mb-4">Monthly Progress</h4>
                  <div class="text-3xl font-bold text-blue-600 mb-2">78%</div>
                  <div class="w-full bg-blue-200 rounded-full h-2">
                    <div class="bg-blue-600 h-2 rounded-full" style="width: 78%"></div>
                  </div>
                </div>
                <div class="bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6">
                  <h4 class="font-bold text-primary mb-4">Team Contributions</h4>
                  <div class="text-3xl font-bold text-green-600 mb-2">15</div>
                  <div class="text-sm text-gray-600">Collaborative challenges</div>
                </div>
                <div class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6">
                  <h4 class="font-bold text-primary mb-4">Learning Streak</h4>
                  <div class="text-3xl font-bold text-purple-600 mb-2">12</div>
                  <div class="text-sm text-gray-600">Days in a row</div>
                </div>
                <div class="bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-6">
                  <h4 class="font-bold text-primary mb-4">Badges Earned</h4>
                  <div class="text-3xl font-bold text-orange-600 mb-2">8</div>
                  <div class="text-sm text-gray-600">This month</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="tab-content" *ngIf="selectedTab() === 1">
          <div class="grid sm:grid-cols-2 gap-6">
            <div class="border border-gray-200 rounded-xl p-6">
              <div class="flex items-center justify-between mb-4">
                <h4 class="font-bold text-primary">Punctuality Week</h4>
                <span class="text-sm bg-blue-100 text-blue-600 px-2 py-1 rounded-full">Active</span>
              </div>
              <p class="text-gray-600 mb-4">Daily check-ins for on-time arrivals</p>
              <div class="flex items-center justify-between">
                <span class="text-sm text-gray-500">2 days left</span>
                <button class="bg-red-500 text-white px-4 py-2 !rounded-button hover:bg-red-600 transition-colors text-sm whitespace-nowrap">Leave</button>
              </div>
            </div>
            <div class="border border-gray-200 rounded-xl p-6">
              <div class="flex items-center justify-between mb-4">
                <h4 class="font-bold text-primary">Wellness Sprint</h4>
                <span class="text-sm bg-green-100 text-green-600 px-2 py-1 rounded-full">Active</span>
              </div>
              <p class="text-gray-600 mb-4">Track daily fitness and mindfulness goals</p>
              <div class="flex items-center justify-between">
                <span class="text-sm text-gray-500">5 days left</span>
                <button class="bg-red-500 text-white px-4 py-2 !rounded-button hover:bg-red-600 transition-colors text-sm whitespace-nowrap">Leave</button>
              </div>
            </div>
          </div>
        </div>
        <div class="tab-content" *ngIf="selectedTab() === 2">
          <div class="space-y-4">
            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-xl">
              <div>
                <h4 class="font-bold text-primary">Team Building Marathon</h4>
                <p class="text-gray-600 text-sm">Completed on March 15, 2024</p>
              </div>
              <div class="flex items-center space-x-2">
                <span class="bg-yellow-100 text-yellow-600 px-2 py-1 rounded-full text-sm font-semibold">Gold</span>
                <span class="text-secondary font-bold">+200 pts</span>
              </div>
            </div>
            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-xl">
              <div>
                <h4 class="font-bold text-primary">Innovation Week</h4>
                <p class="text-gray-600 text-sm">Completed on March 8, 2024</p>
              </div>
              <div class="flex items-center space-x-2">
                <span class="bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-sm font-semibold">Silver</span>
                <span class="text-secondary font-bold">+150 pts</span>
              </div>
            </div>
          </div>
        </div>
        <div  class="tab-content" *ngIf="selectedTab() === 3">
          <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
            <div class="text-center p-4 border border-gray-200 rounded-xl">
              <div class="w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-2">
                <i class="ri-sun-line text-white text-2xl"></i>
              </div>
              <h4 class="font-bold text-primary">Early Bird</h4>
              <p class="text-gray-600 text-sm">Consistent early arrivals</p>
            </div>
            <div class="text-center p-4 border border-gray-200 rounded-xl">
              <div class="w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-2">
                <i class="ri-team-line text-white text-2xl"></i>
              </div>
              <h4 class="font-bold text-primary">Team Player</h4>
              <p class="text-gray-600 text-sm">Excellent collaboration</p>
            </div>
            <div class="text-center p-4 border border-gray-200 rounded-xl">
              <div class="w-16 h-16 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-2">
                <i class="ri-trophy-line text-white text-2xl"></i>
              </div>
              <h4 class="font-bold text-primary">Top Performer</h4>
              <p class="text-gray-600 text-sm">Outstanding results</p>
            </div>
          </div>
        </div>
        <div class="tab-content" *ngIf="selectedTab() === 4">
          <div class="space-y-6">
            <div>
              <h4 class="font-bold text-primary mb-4">Notifications</h4>
              <div class="space-y-3">
                <div class="flex items-center justify-between">
                  <span class="text-gray-700">Challenge reminders</span>
                  <div class="custom-switch active" data-setting="reminders"></div>
                </div>
                <div class="flex items-center justify-between">
                  <span class="text-gray-700">Leaderboard updates</span>
                  <div class="custom-switch active" data-setting="leaderboard"></div>
                </div>
                <div class="flex items-center justify-between">
                  <span class="text-gray-700">Team activity</span>
                  <div class="custom-switch" data-setting="team"></div>
                </div>
              </div>
            </div>
            <div>
              <h4 class="font-bold text-primary mb-4">Privacy</h4>
              <div class="space-y-3">
                <div class="flex items-center justify-between">
                  <span class="text-gray-700">Show profile in leaderboard</span>
                  <div class="custom-switch active" data-setting="profile"></div>
                </div>
                <div class="flex items-center justify-between">
                  <span class="text-gray-700">Allow team invitations</span>
                  <div class="custom-switch active" data-setting="invitations"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
